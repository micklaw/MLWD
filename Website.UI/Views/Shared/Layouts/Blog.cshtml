@using Website.Domain.Blog.ViewModels
@using Humanizer
@{
    Layout = "~/Views/Shared/Layouts/Main.cshtml";

    var viewModel = ViewData["Blog"] as BlogListingViewModel;
}

<div class="divide20"></div>
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <h3 class="heading">Blog & Recent Work</h3>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-md-8">
            @RenderBody()
        </div>
        <!--col-->
        <div class="col-md-3 col-md-offset-1">
            <div class="sidebar-box margin40">
                <h4>Search</h4>
                <form role="form" method="GET" action="@Urls.Blog" class="search-widget">
                    <input type="text" name="k" id="k" class="form-control">
                    <i class="fa fa-search"></i>
                </form>
            </div>
            <!--sidebar-box-->
            <div class="sidebar-box margin40">
                <h4>About</h4>
                <p>
                    @viewModel.Listing.MetaDescription
                </p>
            </div>
            @if (viewModel.Categories != null && viewModel.Categories.Any())
            {
                <!--sidebar-box-->
                <div class="sidebar-box margin40">
                    <h4>Categories</h4>
                    <ul class="list-unstyled cat-list">
                        @foreach (var category in viewModel.Categories)
                        {
                            <li><a href="@Urls.Blog?c=@category.Name">@category.Name.Humanize(LetterCasing.Title) (@category.Count)</a> <i class="fa fa-angle-right"></i></li>
                        }
                    </ul>
                </div>
            }
        </div>
        <!--sidebar-col-->
    </div>
    <!--row for blog post-->
</div>
<!--blog full main container-->
